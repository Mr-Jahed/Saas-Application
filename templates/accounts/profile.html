{% extends 'base.html' %}
{% load static %}

{% block title %}Profile | SaaSify{% endblock %}

{% block content %}
<section class="profile-section bg-gradient-to-br from-blue-50 to-white py-16 rounded-2xl shadow-sm">
  <div class="container mx-auto px-4 max-w-5xl">
    <!-- Header -->
    <div class="text-center mb-12">
      <h2 class="text-4xl font-extrabold text-gray-800 mb-3">
        Your <span class="text-blue-600">Profile</span>
      </h2>
      <p class="text-gray-600 text-lg">
        Manage your account, track your activities, and customize your experience.
      </p>
    </div>

    <!-- Profile Card -->
    <div class="bg-white shadow-lg rounded-2xl p-8 flex flex-col md:flex-row items-center md:items-start gap-8">
      <!-- Avatar -->
      <div class="flex flex-col items-center">
        <img src="{% static 'images/avatar.png' %}" alt="Profile Avatar"
             class="w-32 h-32 rounded-full shadow-md mb-4 border-4 border-blue-100 hover:scale-105 transition-transform duration-300">
        <h3 class="text-2xl font-bold text-gray-800">{{ user.username|title }}</h3>
        <p class="text-gray-600">{{ user.email }}</p>
        <a href="{% url 'logout' %}" 
           class="mt-4 inline-block bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-800 font-semibold px-6 py-2 rounded-lg hover:from-yellow-500 hover:to-yellow-600 transition">
          Logout
        </a>
      </div>

      <!-- Info -->
      <div class="flex-1 space-y-6 w-full">
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
          <div class="bg-blue-50 rounded-xl p-5 shadow-sm hover:shadow-md transition">
            <h4 class="text-gray-700 font-semibold mb-2">Full Name</h4>
            <p class="text-gray-900 font-medium">{{ user.get_full_name|default:"Not provided" }}</p>
          </div>
          <div class="bg-blue-50 rounded-xl p-5 shadow-sm hover:shadow-md transition">
            <h4 class="text-gray-700 font-semibold mb-2">Email Address</h4>
            <p class="text-gray-900 font-medium">{{ user.email }}</p>
          </div>
          <div class="bg-blue-50 rounded-xl p-5 shadow-sm hover:shadow-md transition">
            <h4 class="text-gray-700 font-semibold mb-2">Username</h4>
            <p class="text-gray-900 font-medium">{{ user.username }}</p>
          </div>
          <div class="bg-blue-50 rounded-xl p-5 shadow-sm hover:shadow-md transition">
            <h4 class="text-gray-700 font-semibold mb-2">Account Created</h4>
            <p class="text-gray-900 font-medium">{{ user.date_joined|date:"F j, Y" }}</p>
          </div>
        </div>

        <!-- Edit Profile Form -->
        <div class="mt-10 bg-gray-50 p-6 rounded-xl shadow-inner">
          <h3 class="text-2xl font-bold text-gray-800 mb-4">Edit Profile ‚úèÔ∏è</h3>
          <form method="POST" class="space-y-4">
            {% csrf_token %}
            <div>
              <label class="block text-gray-700 font-semibold mb-1">Full Name</label>
              <input type="text" name="full_name" value="{{ user.get_full_name }}"
                     class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-400" placeholder="Enter your full name">
            </div>
            <div>
              <label class="block text-gray-700 font-semibold mb-1">Email</label>
              <input type="email" name="email" value="{{ user.email }}"
                     class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-400" placeholder="Enter your email">
            </div>
            <button type="submit"
                    class="w-full bg-blue-600 text-white font-semibold py-2 rounded-lg hover:bg-blue-700 transition">
              Update Profile
            </button>
          </form>
        </div>

        <!-- Stats -->
        <div class="mt-10">
          <h4 class="text-2xl font-semibold text-gray-800 mb-4">Your Activity üìä</h4>
          <div class="grid grid-cols-2 sm:grid-cols-4 gap-6">
            <div class="bg-white border border-blue-100 rounded-xl shadow-sm p-5 hover:shadow-lg transition text-center">
              <h5 class="text-3xl font-bold text-blue-600">12</h5>
              <p class="text-gray-600 font-medium mt-1">Projects</p>
            </div>
            <div class="bg-white border border-blue-100 rounded-xl shadow-sm p-5 hover:shadow-lg transition text-center">
              <h5 class="text-3xl font-bold text-blue-600">34</h5>
              <p class="text-gray-600 font-medium mt-1">Tasks</p>
            </div>
            <div class="bg-white border border-blue-100 rounded-xl shadow-sm p-5 hover:shadow-lg transition text-center">
              <h5 class="text-3xl font-bold text-blue-600">7</h5>
              <p class="text-gray-600 font-medium mt-1">Teams</p>
            </div>
            <div class="bg-white border border-blue-100 rounded-xl shadow-sm p-5 hover:shadow-lg transition text-center">
              <h5 class="text-3xl font-bold text-blue-600">5</h5>
              <p class="text-gray-600 font-medium mt-1">Achievements</p>
            </div>
          </div>
        </div>

        <!-- CTA -->
        <div class="mt-10 text-center">
          <a href="{% url 'contact' %}" 
             class="inline-block bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold px-8 py-3 rounded-lg shadow-md hover:shadow-lg hover:from-blue-700 hover:to-blue-800 transition duration-300">
            Contact Support üí¨
          </a>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
